package com . google . common . reflect ; import static com . google . common . base . Preconditions . checkArgument ; import static com . google . common . base . Preconditions . checkNotNull ; import com . google . common . annotations . Beta ; import java . lang . reflect . InvocationHandler ; import java . lang . reflect . Proxy ; @Beta public final class Reflection { public static String getPackageName ( Class < ? > clazz ) { return getPackageName ( clazz . getName ( ) ) ; } public static String getPackageName ( String classFullName ) { int lastDot = classFullName . lastIndexOf ( <str> ) ; return ( lastDot < <int> ) ? <str> : classFullName . substring ( <int> , lastDot ) ; } public static void initialize ( Class < ? > . . . classes ) { for ( Class < ? > clazz : classes ) { try { Class . forName ( clazz . getName ( ) , true , clazz . getClassLoader ( ) ) ; } catch ( ClassNotFoundException e ) { throw new AssertionError ( e ) ; } } } public static < T > T newProxy ( Class < T > interfaceType , InvocationHandler handler ) { checkNotNull ( handler ) ; checkArgument ( interfaceType . isInterface ( ) , <str> , interfaceType ) ; Object object = Proxy . newProxyInstance ( interfaceType . getClassLoader ( ) , new Class < ? > [ ] { interfaceType } , handler ) ; return interfaceType . cast ( object ) ; } private Reflection ( ) { } }