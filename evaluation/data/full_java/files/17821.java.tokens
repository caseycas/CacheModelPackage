package com . badlogic . gdx . tools . flame ; import java . awt . GridBagConstraints ; import java . awt . Insets ; import com . badlogic . gdx . graphics . g3d . Model ; import com . badlogic . gdx . graphics . g3d . particles . influencers . ModelInfluencer ; public class ModelInfluencerPanel extends InfluencerPanel < ModelInfluencer > implements TemplatePickerPanel . Listener < Model > , EventManager . Listener { TemplatePickerPanel < Model > pickerPanel ; public ModelInfluencerPanel ( FlameMain editor , ModelInfluencer influencer , boolean single , String name , String desc ) { super ( editor , influencer , name , desc , true , false ) ; pickerPanel . setMultipleSelectionAllowed ( ! single ) ; EventManager . get ( ) . attach ( FlameMain . EVT_ASSET_RELOADED , this ) ; } @Override public void setValue ( ModelInfluencer value ) { super . setValue ( value ) ; if ( value = = null ) return ; pickerPanel . setValue ( value . models ) ; } protected void initializeComponents ( ) { super . initializeComponents ( ) ; pickerPanel = new TemplatePickerPanel < Model > ( editor , null , this , Model . class , new LoaderButton . ModelLoaderButton ( editor ) ) ; pickerPanel . setIsAlwayShown ( true ) ; contentPanel . add ( pickerPanel , new GridBagConstraints ( <int> , <int> , <int> , <int> , <int> , <int> , GridBagConstraints . CENTER , GridBagConstraints . BOTH , new Insets ( <int> , <int> , <int> , <int> ) , <int> , <int> ) ) ; } @Override public void onTemplateChecked ( Model model , boolean isChecked ) { editor . restart ( ) ; } @Override public void handle ( int aEventType , Object aEventData ) { if ( aEventType = = FlameMain . EVT_ASSET_RELOADED ) { Object [ ] data = ( Object [ ] ) aEventData ; if ( data [ <int> ] instanceof Model ) { if ( value . models . removeValue ( ( Model ) data [ <int> ] , true ) ) { value . models . add ( ( Model ) data [ <int> ] ) ; pickerPanel . reloadTemplates ( ) ; pickerPanel . setValue ( value . models ) ; editor . restart ( ) ; } } } } } 
