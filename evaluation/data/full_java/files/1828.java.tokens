package clojure . lang ; import java . lang . reflect . Array ; import java . util . Iterator ; public class ArrayIter implements Iterator { final Object [ ] array ; int i ; static public Iterator EMPTY_ITERATOR = new Iterator ( ) { public boolean hasNext ( ) { return false ; } public Object next ( ) { throw new java . util . NoSuchElementException ( ) ; } public void remove ( ) { throw new UnsupportedOperationException ( <str> ) ; } } ; static public Iterator create ( ) { return EMPTY_ITERATOR ; } static public Iterator create ( Object . . . array ) { if ( array = = null | | array . length = = <int> ) return EMPTY_ITERATOR ; return new ArrayIter ( array , <int> ) ; } static public Iterator createFromObject ( Object array ) { if ( array = = null | | Array . getLength ( array ) = = <int> ) return EMPTY_ITERATOR ; Class aclass = array . getClass ( ) ; if ( aclass = = int [ ] . class ) return new ArrayIter_int ( ( int [ ] ) array , <int> ) ; if ( aclass = = float [ ] . class ) return new ArrayIter_float ( ( float [ ] ) array , <int> ) ; if ( aclass = = double [ ] . class ) return new ArrayIter_double ( ( double [ ] ) array , <int> ) ; if ( aclass = = long [ ] . class ) return new ArrayIter_long ( ( long [ ] ) array , <int> ) ; if ( aclass = = byte [ ] . class ) return new ArrayIter_byte ( ( byte [ ] ) array , <int> ) ; if ( aclass = = char [ ] . class ) return new ArrayIter_char ( ( char [ ] ) array , <int> ) ; if ( aclass = = short [ ] . class ) return new ArrayIter_short ( ( short [ ] ) array , <int> ) ; if ( aclass = = boolean [ ] . class ) return new ArrayIter_boolean ( ( boolean [ ] ) array , <int> ) ; return new ArrayIter ( array , <int> ) ; } ArrayIter ( Object array , int i ) { this . i = i ; this . array = ( Object [ ] ) array ; } public boolean hasNext ( ) { return array ! = null & & i < array . length ; } public Object next ( ) { if ( array ! = null & & i < array . length ) return array [ i + + ] ; throw new java . util . NoSuchElementException ( ) ; } public void remove ( ) { throw new UnsupportedOperationException ( <str> ) ; } static public class ArrayIter_int implements Iterator < Long > { final int [ ] array ; int i ; ArrayIter_int ( int [ ] array , int i ) { this . array = array ; this . i = i ; } public boolean hasNext ( ) { return array ! = null & & i < array . length ; } public Long next ( ) { if ( array ! = null & & i < array . length ) return Long . valueOf ( array [ i + + ] ) ; throw new java . util . NoSuchElementException ( ) ; } public void remove ( ) { throw new UnsupportedOperationException ( <str> ) ; } } static public class ArrayIter_float implements Iterator < Double > { final float [ ] array ; int i ; ArrayIter_float ( float [ ] array , int i ) { this . array = array ; this . i = i ; } public boolean hasNext ( ) { return array ! = null & & i < array . length ; } public Double next ( ) { if ( array ! = null & & i < array . length ) return Double . valueOf ( array [ i + + ] ) ; throw new java . util . NoSuchElementException ( ) ; } public void remove ( ) { throw new UnsupportedOperationException ( <str> ) ; } } static public class ArrayIter_double implements Iterator < Double > { final double [ ] array ; int i ; ArrayIter_double ( double [ ] array , int i ) { this . array = array ; this . i = i ; } public boolean hasNext ( ) { return array ! = null & & i < array . length ; } public Double next ( ) { if ( array ! = null & & i < array . length ) return array [ i + + ] ; throw new java . util . NoSuchElementException ( ) ; } public void remove ( ) { throw new UnsupportedOperationException ( <str> ) ; } } static public class ArrayIter_long implements Iterator < Long > { final long [ ] array ; int i ; ArrayIter_long ( long [ ] array , int i ) { this . array = array ; this . i = i ; } public boolean hasNext ( ) { return array ! = null & & i < array . length ; } public Long next ( ) { if ( array ! = null & & i < array . length ) return Long . valueOf ( array [ i + + ] ) ; throw new java . util . NoSuchElementException ( ) ; } public void remove ( ) { throw new UnsupportedOperationException ( <str> ) ; } } static public class ArrayIter_byte implements Iterator < Byte > { final byte [ ] array ; int i ; ArrayIter_byte ( byte [ ] array , int i ) { this . array = array ; this . i = i ; } public boolean hasNext ( ) { return array ! = null & & i < array . length ; } public Byte next ( ) { if ( array ! = null & & i < array . length ) return array [ i + + ] ; throw new java . util . NoSuchElementException ( ) ; } public void remove ( ) { throw new UnsupportedOperationException ( <str> ) ; } } static public class ArrayIter_char implements Iterator < Character > { final char [ ] array ; int i ; ArrayIter_char ( char [ ] array , int i ) { this . array = array ; this . i = i ; } public boolean hasNext ( ) { return array ! = null & & i < array . length ; } public Character next ( ) { if ( array ! = null & & i < array . length ) return array [ i + + ] ; throw new java . util . NoSuchElementException ( ) ; } public void remove ( ) { throw new UnsupportedOperationException ( <str> ) ; } } static public class ArrayIter_short implements Iterator < Long > { final short [ ] array ; int i ; ArrayIter_short ( short [ ] array , int i ) { this . array = array ; this . i = i ; } public boolean hasNext ( ) { return array ! = null & & i < array . length ; } public Long next ( ) { if ( array ! = null & & i < array . length ) return Long . valueOf ( array [ i + + ] ) ; throw new java . util . NoSuchElementException ( ) ; } public void remove ( ) { throw new UnsupportedOperationException ( <str> ) ; } } static public class ArrayIter_boolean implements Iterator < Boolean > { final boolean [ ] array ; int i ; ArrayIter_boolean ( boolean [ ] array , int i ) { this . array = array ; this . i = i ; } public boolean hasNext ( ) { return array ! = null & & i < array . length ; } public Boolean next ( ) { if ( array ! = null & & i < array . length ) return Boolean . valueOf ( array [ i + + ] ) ; throw new java . util . NoSuchElementException ( ) ; } public void remove ( ) { throw new UnsupportedOperationException ( <str> ) ; } } } 
