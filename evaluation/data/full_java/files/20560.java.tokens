package com . nostra13 . universalimageloader . core . decode ; import android . annotation . TargetApi ; import android . graphics . BitmapFactory . Options ; import android . os . Build ; import com . nostra13 . universalimageloader . core . DisplayImageOptions ; import com . nostra13 . universalimageloader . core . assist . ImageScaleType ; import com . nostra13 . universalimageloader . core . assist . ImageSize ; import com . nostra13 . universalimageloader . core . assist . ViewScaleType ; import com . nostra13 . universalimageloader . core . download . ImageDownloader ; public class ImageDecodingInfo { private final String imageKey ; private final String imageUri ; private final String originalImageUri ; private final ImageSize targetSize ; private final ImageScaleType imageScaleType ; private final ViewScaleType viewScaleType ; private final ImageDownloader downloader ; private final Object extraForDownloader ; private final boolean considerExifParams ; private final Options decodingOptions ; public ImageDecodingInfo ( String imageKey , String imageUri , String originalImageUri , ImageSize targetSize , ViewScaleType viewScaleType , ImageDownloader downloader , DisplayImageOptions displayOptions ) { this . imageKey = imageKey ; this . imageUri = imageUri ; this . originalImageUri = originalImageUri ; this . targetSize = targetSize ; this . imageScaleType = displayOptions . getImageScaleType ( ) ; this . viewScaleType = viewScaleType ; this . downloader = downloader ; this . extraForDownloader = displayOptions . getExtraForDownloader ( ) ; considerExifParams = displayOptions . isConsiderExifParams ( ) ; decodingOptions = new Options ( ) ; copyOptions ( displayOptions . getDecodingOptions ( ) , decodingOptions ) ; } private void copyOptions ( Options srcOptions , Options destOptions ) { destOptions . inDensity = srcOptions . inDensity ; destOptions . inDither = srcOptions . inDither ; destOptions . inInputShareable = srcOptions . inInputShareable ; destOptions . inJustDecodeBounds = srcOptions . inJustDecodeBounds ; destOptions . inPreferredConfig = srcOptions . inPreferredConfig ; destOptions . inPurgeable = srcOptions . inPurgeable ; destOptions . inSampleSize = srcOptions . inSampleSize ; destOptions . inScaled = srcOptions . inScaled ; destOptions . inScreenDensity = srcOptions . inScreenDensity ; destOptions . inTargetDensity = srcOptions . inTargetDensity ; destOptions . inTempStorage = srcOptions . inTempStorage ; if ( Build . VERSION . SDK_INT > = <int> ) copyOptions10 ( srcOptions , destOptions ) ; if ( Build . VERSION . SDK_INT > = <int> ) copyOptions11 ( srcOptions , destOptions ) ; } @TargetApi ( <int> ) private void copyOptions10 ( Options srcOptions , Options destOptions ) { destOptions . inPreferQualityOverSpeed = srcOptions . inPreferQualityOverSpeed ; } @TargetApi ( <int> ) private void copyOptions11 ( Options srcOptions , Options destOptions ) { destOptions . inBitmap = srcOptions . inBitmap ; destOptions . inMutable = srcOptions . inMutable ; } public String getImageKey ( ) { return imageKey ; } public String getImageUri ( ) { return imageUri ; } public String getOriginalImageUri ( ) { return originalImageUri ; } public ImageSize getTargetSize ( ) { return targetSize ; } public ImageScaleType getImageScaleType ( ) { return imageScaleType ; } public ViewScaleType getViewScaleType ( ) { return viewScaleType ; } public ImageDownloader getDownloader ( ) { return downloader ; } public Object getExtraForDownloader ( ) { return extraForDownloader ; } public boolean shouldConsiderExifParams ( ) { return considerExifParams ; } public Options getDecodingOptions ( ) { return decodingOptions ; } } 
